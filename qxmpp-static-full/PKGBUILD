# Maintainer: hipersayan_x <hipersayan.x@gmail.com>
pkgrealname=qxmpp
pkgname=$pkgrealname-static-full
pkgver=0.7.4
pkgrel=1
pkgdesc="QXmpp is an xmpp client library based on Qt & C++ (static version with Speex, Vpx and Theora support)"
arch=('i686' 'x86_64')
url="http://code.google.com/p/qxmpp/"
license=('LGPL2')
depends=('qt' 'speex' 'libvpx' 'libtheora')
provides=('qxmpp')
conflicts=('qxmpp')
source=(http://$pkgrealname.googlecode.com/files/$pkgrealname-$pkgver.tar.gz)
md5sums=('96de55c8399cf81529364b59141f8c4d')

build() {
    cd "$srcdir/$pkgrealname-$pkgver"
    qmake PREFIX=/usr QXMPP_LIBRARY_TYPE=staticlib QXMPP_USE_SPEEX=1 QXMPP_USE_VPX=1 QXMPP_USE_THEORA=1
    make
    make docs
}

package() {
    cd "$srcdir/$pkgrealname-$pkgver"
    make INSTALL_ROOT="$pkgdir" install
}
